@page "/registration/password"
@inject NavigationManager NavigationManager
@inject ISnackbar SnackbarService

<PageTitle>Registrace do SpaceNavigate</PageTitle>
<Logo />
<MudContainer Class="space-navigate-container">
    <MudText Class="space-navigate-caption">Nastavení hesla</MudText>
    <MudText Class="space-navigate-text">Nastavte si Vaše heslo, aby bylo dostatečně silné a neobsahovalo Vaše jméno či jiné snadno uhodnutelná slova.</MudText>
    @if (!IsPasswordVisible)
    {
        <MudTextField Class="space-navigate-text-field mt-7"
        @bind-Value="@password"
                      Label="Heslo"
                      InputType="InputType.Password"
                      Variant="Variant.Outlined"
                        Required
                       RequiredError="Vyplnění jména je pro registraci povinné."
                       Adornment="Adornment.End"
                       AdornmentIcon="@Icons.Material.Filled.Visibility"
                       OnAdornmentClick="ShowPassword"
                        Immediate />
    }
    else
    {
        <MudTextField Class="space-navigate-text-field mt-7"
        @bind-Value="@password"
                      Label="Heslo"
                      InputType="InputType.Text"
                      Variant="Variant.Outlined"
                        Required
                       RequiredError="Vyplnění jména je pro registraci povinné."
                       Adornment="Adornment.End"
                       AdornmentIcon="@Icons.Material.Filled.VisibilityOff"
                       OnAdornmentClick="ShowPassword"
                        Immediate />
    }

    <RegistrationValidation Password="@password" PasswordValidated="PasswordValidated" />

    
 </MudContainer>

<style media="screen and (max-width:1120px)">
    .space-navigate-container {
        margin-top: 5px;
    }

    .space-navigate-caption {
        font-size: 32px;
        margin-top: 30px;
    }

    .space-navigate-text {
        font-size: 14px;
        font-style: normal;
        font-weight: 400;
        line-height: 20px; /* 142.857% */
        width: 100%;
        margin-top: 20px;
    }

    .space-navigate-text-field {
        width: 100%;
        height: 80px;
    }

    .space-navigate-btn {
        width: 100%;
        height: 50px;
        font-size: 18px;
    }
</style>

 @code {
    [Parameter]
    public string Email { get; set; }

    [Parameter]
    public string FullName { get; set; }

    string password = "";
    bool IsPasswordValidated = false;
    bool IsPasswordVisible = false;

    void ShowPassword()
    {
        IsPasswordVisible = !IsPasswordVisible;
    }

    void PasswordValidated(bool isValidated)
    {
        IsPasswordValidated = isValidated;
    }
}